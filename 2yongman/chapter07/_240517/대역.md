■ 대역의 필요성
- 

테스트를 할 떄 외부 요인이 필요한 시점이 있다.

예)
1. 테스트 대상에서 파일 시스템 사용
2. 테스트 대상에서 DB로부터 데이터를 조회하거나 데이터를 추가
3. 테스트 대상에서 외부의 HTTP 서버와 통신

테스트 대상이 외부 요인에 의존하면 테스트를 작성하고 실행하기 어렵다.

★ 예시 상황 : 자동이체 등록 정보 등록
- 

AutoDebitRegister 클래스 : 자동이체 등록 기능
CardNumberValidator : 외부 API를 이용해 카드번호가 유효한지 점검

AutoDebitRegister 는 CardNumberValidator를 이용해 카드번호가 유효한지 검사한 뒤 자동이체 정보를 저장한다.

유호한 카드번호를 받아 테스트를 진행하더라도 한 달 뒤 만료된다면 세트는 통과하지 못한다.

또한 도난 테스트용 카드 번호를 받아 테스트를 진행해도 카드사에서 해당 카드 정보를 삭제하면 테스트는 통과하지 못한다.

또한 외부 서비스가 개발 환경을 제공하지 않으면 테스트는 더욱 힘들어진다.

이렇게 외부 요인에 의해 테스트가 어려울 때 <u> 대역을 써서  </u>테스트를 진행한다.
-

★ 대역을 이용한 테스트
- 

StubCardNumberValidator : CardNumberValidator를 대신할 대역 클래스. 카드 정보 API를 대신해서 유효한 카드번호, 도난 카드 번호와 같은 상황 흉내낸다,

MemoryAutoDebitInfoRepository : DB 대신 맵을 이용해 자동이체 정보를 저장하고 흉내내는 클래스.

■ 대역의 종류
- 

- 스텁(Stub) : 구현을 단순한 것으로 대체. 테스트에 맞게 단순히 원하는 동작을 수행. ex) StubCardNumberValidator
- 가짜(Fake) : 제품엔 적합하지 않지만, 실제 동작하는 구현을 제공. ex) MemoryAutoDebitInfoRepository
- 스파이(Spy) : 호출된 내역 기록
- 모의(Mock) : 기대한 대로 상호작용하는지 행위를 검증. 기대한 대로 동작하지 않으면 Exception 발생할 수 있다. 모의 객체는 스텁이자 스파이다.

회원가입 기능을 구현해나가면서 스텁, 가짜, 스파이, 모의 객체를 사용해보자.

**회원가입 기능 예시
- 




